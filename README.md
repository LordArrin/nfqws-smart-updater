# nfqws-smart-updater
–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è IP-–ª–∏—Å—Ç–æ–≤ –¥–ª—è NFQWS (OpenWrt/(Keenetic tba)). –£–º–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ–¥—Å–µ—Ç–µ–π (CIDR merging), —Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (sipcalc), –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç cron –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏.

---

# üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é —Å–ø–∏—Å–∫–æ–≤ NFQWS (OpenWrt).

(!) Keenetic/Entware –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å.

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç —Å–ø–∏—Å–∫–∏ IP-–∞–¥—Ä–µ—Å–æ–≤ —Å–∞–π—Ç–æ–≤ –∏ CDN (—Å–µ—Ä–≤–µ—Ä–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω–æ –¥–µ–≥—Ä–∞–¥–∏—Ä—É—é—Ç), –æ—á–∏—â–∞–µ—Ç –∏—Ö, —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã, –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ–¥—Å–µ—Ç–∏ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é **NFQWS**.

### üõ† –®–∞–≥ 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã. –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –ø—Ä–æ—à–∏–≤–∫–µ OpenWrt –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

–ó–∞–π–¥–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (SSH) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

OpenWrt 24.10 –∏ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ:
```
opkg update
opkg install curl coreutils-sort coreutils-sleep coreutils-nl coreutils-md5sum coreutils-split coreutils-timeout sipcalc flock gawk
```

OpenWrt 25.12 –∏ –Ω–æ–≤–µ–µ, –≤–∫–ª—é—á–∞—è Snapshot:
```
apk --update-cache add curl coreutils-sort coreutils-sleep coreutils-nl coreutils-md5sum coreutils-split coreutils-timeout sipcalc flock gawk
```

---

### üì• –®–∞–≥ 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –º—ã –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –≤—Å—ë –≤ –ø–∞–ø–∫–µ `/etc/nfqws/scripts`.

1.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞:**
    –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞ update_list.sh –∏–∑ Releases –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω–æ–µ –≤–∞–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ª—é–±–∏–º—ã–º —Å–ø–æ—Å–æ–±–æ–º - –∫ –ø—Ä–∏–º–µ—Ä—É, WinSCP –¥–ª—è Windows.

2.  **–û—Ç–∫—Ä–æ–π—Ç–µ –¢–µ—Ä–º–∏–Ω–∞–ª –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –ø–æ SSH:**
    ```
    ssh root@IP.–∞–¥—Ä–µ—Å.—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    ```

4.  **–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
    ```bash
    chmod +x /etc/nfqws/scripts/update_list.sh
    ```

---

### üìù –®–∞–≥ 3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–ø–∏—Å–∫–∏ IP-–∞–¥—Ä–µ—Å–æ–≤ –∏–ª–∏ –¥–æ–º–µ–Ω–æ–≤.
–ù–∞–∑–æ–≤–µ–º –µ–≥–æ `urls.txt`.

```
nano /etc/nfqws/lists/urls.txt
```

**–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ `urls.txt`:**
```
# –°–ø–∏—Å–æ–∫ –æ—Ç V3nilla (–ø—Ä–∏–º–µ—Ä)
https://raw.githubusercontent.com/v3nilla/ipsets-for-bypass-in-russia/refs/heads/main/ipset-all.txt

# –í–∞—à–∏ –ª–∏—á–Ω—ã–µ —Å–ø–∏—Å–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å URL)
https://example.com/my-list.txt
```
*–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —á–µ—Ä–µ–∑ —Å–∏–º–≤–æ–ª `#`.*

---

### üöÄ –®–∞–≥ 4. –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–ü—Ä–æ–≤–µ—Ä–∫–∞)

–ü–æ–ø—Ä–æ–±—É–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.

–í–∞–º –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, –∫—É–¥–∞ NFQWS –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª. –û–±—ã—á–Ω–æ —ç—Ç–æ `/etc/nfqws/ipset.list`.

**–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞:**
```
/etc/nfqws/scripts/update_list.sh -f /etc/nfqws/lists/urls.txt -o /etc/nfqws/ipset.list -w /tmp/nfqws_updater/urls/
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
*   `-f ...` ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.
*   `-o ...` ‚Äî –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥–æ—Ç–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
*   `-w ...` ‚Äî —Ä–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ `/tmp/nfqws_updater/`.
–í —ç—Ç–æ–π –ø–∞–ø–∫–µ —Å–∫—Ä–∏–ø—Ç —Ö—Ä–∞–Ω–∏—Ç **–∫—ç—à** —Å–∫–∞—á–∞–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ (–ø–∞–ø–∫–∞ `/cache`), —Å–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–ø–∞–ø–∫–∞ `/temp`) –∏ —Ö—Ä–∞–Ω–∏—Ç —Ñ–∞–π–ª —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (`.stats`), —á—Ç–æ–±—ã –ø–æ–º–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ—à–ª–æ–≥–æ –∑–∞–ø—É—Å–∫–∞. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω—É–∂–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–ø–∫–∞.

`–ï—Å–ª–∏ –≤–∞–º –ø–ª–µ–≤–∞—Ç—å –Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∑–∞—â–∏—Ç—É –æ—Ç —Å–±–æ–µ–≤, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –ø–∞–ø–∫—É, –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ -S (Skip Safety Check), —á—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç –Ω–µ –ø–∞–Ω–∏–∫–æ–≤–∞–ª –∏–∑-–∑–∞ —Å–∫–∞—á–∫–æ–≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫. –ù–æ —Ç–æ–≥–¥–∞ –æ—Ç—á—ë—Ç—ã "Last updated" –∏ "Diff" –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–µ—Å—Å–º—ã—Å–ª–∏—Ü—É.`

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
*   `-S` ‚Äî **–û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞—â–∏—Ç—É (Safety Check)**.
    *   *–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:* –ï—Å–ª–∏ –≤—ã –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –ø–æ–º–µ–Ω—è–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ —Å—Ç–∞–ª –Ω–∞–º–Ω–æ–≥–æ (10%<) –º–µ–Ω—å—à–µ —Å—Ç–∞—Ä–æ–≥–æ (—Å–∫—Ä–∏–ø—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–∞–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ, –Ω–∞ —Ç–æ—Ç —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —ç—Ç–æ —Å–±–æ–π).
*   `-R` ‚Äî **–ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–∏—Å–∞**.
    *   *–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:* –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª, –Ω–æ –Ω–µ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã NFQWS –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–ª—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –Ω–µ —Ä–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è).
*   `-e <—Ñ–∞–π–ª>` ‚Äî **–î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª**.
    *   *–ü—Ä–∏–º–µ—Ä:* –£ –≤–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª `default_ips.txt` –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø—Ä–∞–≤–∏—Ç–µ –≤—Ä—É—á–Ω—É—é. –ú–æ–∂–Ω–æ "–ø–æ–¥–º–µ—à–∞—Ç—å" –µ–≥–æ –∫ —Å–∫–∞—á–∞–Ω–Ω—ã–º —Å–ø–∏—Å–∫–∞–º: `-e /etc/nfqws/lists/default_ips.txt`. –§–∞–π–ª –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω.
*   `-D` ‚Äî **–ó–∞–ø—É—Å–∫ –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π**.
    *   *–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:* –ù–∞ —Å–ª—É—á–∞–π.
---

### ‚è∞ –®–∞–≥ 5. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (Cron)

–ß—Ç–æ–±—ã —Å–ø–∏—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å —Å–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—É—é –Ω–æ—á—å), –¥–æ–±–∞–≤–∏–º –∑–∞–¥–∞—á—É –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫.

1.  –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä Cron:
    ```
    crontab -e
    ```

2.  –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ 4:00 —É—Ç—Ä–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å):
    ```
    0 4 * * * /etc/nfqws/scripts/update_list.sh -f /etc/nfqws/lists/urls.txt -o /etc/nfqws/ipset.list
    ```

    **–í–∞—Ä–∏–∞–Ω—Ç –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–∏—Å–∞ (—Å —Ñ–ª–∞–≥–æ–º -R):**
    –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ñ–∞–π–ª —á–∞—Å—Ç–æ, –Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ä–µ–¥–∫–æ, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:
    ```bash
    # –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∞–π–ª –∫–∞–∂–¥—ã–µ 5 —á–∞—Å–æ–≤ –ë–ï–ó –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
    0 */5 * * * /etc/nfqws/scripts/update_list.sh -R -f /etc/nfqws/lists/urls.txt -o /etc/nfqws/ipset.list
    
    # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–µ—Ä–≤–∏—Å —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ (–∫–æ–º–∞–Ω–¥–æ–π —Å–∞–º–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞)
    5 4 * * * service nfqws-keenetic restart
    ```

---

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

![Screenshot #1](/usage_example1.png?raw=true)

---

### ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**1. –°–∫—Ä–∏–ø—Ç –ø–∏—à–µ—Ç "SAFETY TRIGGER: New list size is too small" –∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª.**
*   **–ü—Ä–∏—á–∏–Ω–∞:** –ù–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ —Å—Ç–∞–ª –º–µ–Ω—å—à–µ —Å—Ç–∞—Ä–æ–≥–æ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 10% (–∑–∞—â–∏—Ç–∞ –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ —Å–∞–π—Ç-–∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Ç–¥–∞–ª –ø—É—Å—Ç–æ–π –∏–ª–∏ –±–∏—Ç—ã–π —Ñ–∞–π–ª).
*   **–†–µ—à–µ–Ω–∏–µ:** –ï—Å–ª–∏ –≤—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Å–ø–∏—Å–æ–∫ –¥–æ–ª–∂–µ–Ω —É–º–µ–Ω—å—à–∏—Ç—å—Å—è, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ–¥–∏–Ω —Ä–∞–∑ –≤—Ä—É—á–Ω—É—é —Å —Ñ–ª–∞–≥–æ–º `-S`:
    `/etc/nfqws/scripts/update_list.sh -S ...`

**2. –°–∫—Ä–∏–ø—Ç –ø–∏—à–µ—Ç "Failed to restart service".**
*   **–ü—Ä–∏—á–∏–Ω–∞:** –ò–º—è —Å–µ—Ä–≤–∏—Å–∞ –∏–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –≤ –û–° –≤ —Å–∫—Ä–∏–ø—Ç–µ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ–∂–∏–¥–∞–Ω–∏—è–º–∏.
*   **–†–µ—à–µ–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –¥–ª—è OpenWrt –∫–æ–º–∞–Ω–¥—É `service` –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ nfqws-keenetic. –ï—Å–ª–∏ —É –≤–∞—Å –¥—Ä—É–≥–∞—è –û–° –∏–ª–∏ —Å–µ—Ä–≤–∏—Å, –∫–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –∏–Ω–∞—á–µ. –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–∏—Ç —Ñ–∞–π–ª, –Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–∏—Å –ø—Ä–∏–¥—ë—Ç—Å—è –≤—Ä—É—á–Ω—É—é.

**3. –•–≤–∞—Ç–∏—Ç –ª–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞?**
*   –°–∫—Ä–∏–ø—Ç —É–º–Ω—ã–π: –æ–Ω —Å–∞–º –ø—Ä–æ–≤–µ—Ä–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–º—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ –±–æ–ª–µ–µ 50% (–Ω–æ –Ω–µ –±–æ–ª–µ–µ 4–ì–±) –ø–∞–º—è—Ç–∏ –∏ –æ—Å—Ç–∞–≤–∏—Ç –æ–¥–Ω–æ —è–¥—Ä–æ —Å–≤–æ–±–æ–¥–Ω—ã–º (–µ—Å–ª–∏ –∏—Ö –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ), —á—Ç–æ–±—ã –Ω–µ "–ø–æ–≤–µ—Å–∏—Ç—å" —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

**4. –ì–¥–µ –ª–æ–≥–∏?**
*   –°–∫—Ä–∏–ø—Ç –ø–∏—à–µ—Ç –∫—Ä–∞—Ç–∫–∏–π –æ—Ç—á–µ—Ç –≤ `/tmp/firewall_update.log`. –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π: `cat /tmp/firewall_update.log`.

**4. –ù–µ –∏–∑–Ω–æ—Å–∏—Ç—Å—è –ª–∏ —Ñ–ª–µ—à –ø–∞–º—è—Ç—å –æ—Ç —á–∞—Å—Ç–æ–π –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏?**
*   –°–∫—Ä–∏–ø—Ç —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ - –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é –≤ –ø–∞–ø–∫–µ `/tmp/nfqws_updater/`. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª—é–±—É—é –ø–∞–ø–∫—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–±–æ—á–µ–π —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `-w`.
